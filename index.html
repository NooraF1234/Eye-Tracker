<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Eye Tracker</title>
    <script src="https://cdn.jsdelivr.net/npm/webgazer@2.0.0/dist/webgazer.min.js"></script>
</head>
<body>
    <h1>Eye Tracking Project</h1>
    <button id="startButton">Start Tracking</button>

    <script>
        // Start WebGazer
        function startTracking() {
            webgazer.setGazeListener(function(data, elapsedTime) {
                if (data == null) return;

                // Get gaze position
                let x = data.x;
                let y = data.y;

                // Move a dot to the eye gaze position
                const dot = document.getElementById("gazeDot");
                dot.style.left = x + 'px';
                dot.style.top = y + 'px';
                
                // Trigger click action on blink (example)
                if (isBlinkDetected()) {
                    triggerClickAction();
                }
            }).begin();
        }

        // Detect a blink (simplified logic)
        function isBlinkDetected() {
            return Math.random() < 0.1; // Simulating a random blink detection for now
        }

        // Trigger a click on blink detection (this is just an example)
        function triggerClickAction() {
            // Open a website, or you can trigger anything you like
            window.location.href = 'https://www.spotify.com'; // Example action
        }

        // Button click to start tracking
        document.getElementById("startButton").addEventListener('click', function() {
            startTracking();
        });
    </script>

    <div id="gazeDot" style="position: absolute; width: 10px; height: 10px; background-color: red; border-radius: 50%;"></div>
</body>
</html>
